{"version":3,"sources":["service/api.js","component/Icon.js","component/Form.js","component/GalleryItem.js","component/Modal.js","component/Batton.js","component/Gallery.js","App.js","index.js"],"names":["api","fetchImages","searchQuery","currentPage","axios","get","IconSearch","version","xmlns","width","height","viewBox","d","Form","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","name","placeholder","onChange","Component","GalleryItem","images","clickModal","map","id","webformatURL","tags","largeImageURL","src","alt","onClick","Modal","handleBackdropClick","event","target","handleKeyDown","code","window","addEventListener","removeEventListener","url","Button","onClickButton","Gallery","showModal","imageSrc","toggleModal","bigImage","prevState","onChangeQuery","options","imageApi","then","response","data","hits","prevProps","length","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fbf6ed19.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst key = \"19520072-2a079db9835241cceccf8dd5b\";\nconst baseUrl = \"https://pixabay.com/api/\";\n\nfunction fetchImages({ searchQuery = \"\", currentPage = 1 }) {\n  return axios.get(`${baseUrl}?image_type=photo&orientation=horizontal&q=${searchQuery}\n           &language=en&page=${currentPage}&per_page=12&key=${key}`);\n}\n\nconst api = { fetchImages };\n\nexport default api;\n","export default function IconSearch() {\n  return (\n    <svg\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"15\"\n      height=\"15\"\n      viewBox=\"0 0 32 32\"\n    >\n      <title>search</title>\n      <path d=\"M31.008 27.231l-7.58-6.447c-0.784-0.705-1.622-1.029-2.299-0.998 1.789-2.096 2.87-4.815 2.87-7.787 0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12c2.972 0 5.691-1.081 7.787-2.87-0.031 0.677 0.293 1.515 0.998 2.299l6.447 7.58c1.104 1.226 2.907 1.33 4.007 0.23s0.997-2.903-0.23-4.007zM12 20c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8z\"></path>\n    </svg>\n  );\n}\n","import { Component } from \"react\";\nimport IconSearch from \"./Icon\";\nimport PropTypes from \"prop-types\";\n\nexport default class Form extends Component {\n  state = {\n    query: \"\",\n  };\n\n  static propTypes = {\n    handleChange: PropTypes.func,\n    handleSubmit: PropTypes.func,\n  };\n\n  handleChange = (e) => {\n    this.setState({ query: e.currentTarget.value });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: \"\" });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <IconSearch />\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            value={this.state.query}\n            name=\"imageName\"\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst GalleryItem = ({ images, clickModal }) =>\n  images.map(({ id, webformatURL, tags, largeImageURL }) => (\n    <li key={id} className=\"ImageGalleryItem\">\n      <img\n        src={webformatURL}\n        alt={tags}\n        onClick={() => {\n          clickModal(largeImageURL);\n        }}\n      />\n    </li>\n  ));\n\nGalleryItem.propTypes = {\n  clickModal: PropTypes.func,\n  images: PropTypes.array,\n};\n\nexport default GalleryItem;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport default class Modal extends Component {\n  static propTypes = {\n    handleBackdropClick: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  compponentWIllUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      this.props.clickModal();\n    }\n  };\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.clickModal();\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">\n          <img src={this.props.url} alt=\"foto\" className=\"Modal\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\n\nconst Button = ({ onClickButton }) => (\n  <button type=\"button\" className=\"Button\" onClick={onClickButton}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClickButton: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport imageApi from \"../service/api\";\nimport Form from \"./Form\";\nimport GalleryItem from \"./GalleryItem\";\nimport Modal from \"./Modal\";\nimport Button from \"./Batton\";\n\nexport default class Gallery extends Component {\n  state = {\n    images: [],\n    showModal: false,\n    imageSrc: \"\",\n    currentPage: 1,\n    searchQuery: \"\",\n  };\n\n  static propTypes = {\n    toggleModal: PropTypes.func,\n    onChangeQuery: PropTypes.func,\n    fetchImages: PropTypes.func,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  toggleModal = (bigImage) => {\n    return this.setState((prevState) => ({\n      showModal: !prevState.showModal,\n      imageSrc: bigImage,\n    }));\n  };\n\n  onChangeQuery = (query) => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      images: [],\n    });\n  }; /*submit form*/\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = {\n      currentPage,\n      searchQuery,\n    };\n\n    imageApi.fetchImages(options).then((response) => {\n      this.setState((prevState) => ({\n        images: [...prevState.images, ...response.data.hits],\n        currentPage: prevState.currentPage + 1,\n      }));\n    });\n  };\n\n  render() {\n    const { showModal, images, imageSrc } = this.state;\n\n    return (\n      <>\n        <Form onSubmit={this.onChangeQuery} />\n        <ul className=\"ImageGallery\">\n          <GalleryItem images={images} clickModal={this.toggleModal} />\n        </ul>\n        {showModal && <Modal clickModal={this.toggleModal} url={imageSrc} />}\n\n        {images.length > 0 && <Button onClickButton={this.fetchImages} />}\n      </>\n    );\n  }\n}\n","import React from \"react\";\n\nimport Gallery from \"./component/Gallery\";\n\nconst App = () => (\n  <div className=\"App\">\n    <Gallery />\n  </div>\n);\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}